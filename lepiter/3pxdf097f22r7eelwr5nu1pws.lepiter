{
	"__schema" : "4.1",
	"__type" : "page",
	"children" : {
		"__type" : "snippets",
		"items" : [
			{
				"__type" : "pharoSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "veit.heller@feenk.com"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-13T12:23:04.787171+02:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "veit.heller@feenk.com"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-13T16:09:44.684718+02:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "rukRnyTXDQCDujOsBqzWPg=="
				},
				"code" : "PBApplication isRunning ifFalse: [ PBApplication start ].\rPBApplication uniqueInstance installModule: 'tiktoken'."
			},
			{
				"__type" : "pythonSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "veit.heller@feenk.com"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-13T16:07:43.060297+02:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "veit.heller@feenk.com"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-13T16:21:37.218994+02:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "cxJwwifXDQCfo/0TBs9aqQ=="
				},
				"code" : "from dataclasses import dataclass\rfrom gtoolkit_bridge import gtView\r\r@dataclass\rclass Token:\r\tname: str\r\tnum: int\r\tstart: int\r\tend: int\r\t\rclass TokenizerResult:\r\tdef __init__(self, tokens):\r\t\tself.tokens = tokens\r\t\t\r\t@gtView\r\tdef gtViewTokens(self, view):\r\t\tclist = view.columnedList()\n\t\tclist.title(\"Tokens\")\n\t\tclist.priority(2)\n\t\tclist.items(lambda: self.tokens)\n\t\tclist.column(\"Name\", lambda each: each.name)\n\t\tclist.column(\"Byte\", lambda each: each.num)\n\t\tclist.column(\"Start\", lambda each: each.start)\r\t\tclist.column(\"End\", lambda each: each.end)\n\t\treturn clist"
			},
			{
				"__type" : "pythonSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "veit.heller@feenk.com"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-13T12:36:56.635196+02:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "veit.heller@feenk.com"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-13T18:29:03.467101+02:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "u+mm0CTXDQCLnTReBqzWPg=="
				},
				"code" : "import tiktoken\r\rdef tokenize(string, model):\r\tencoding = tiktoken.encoding_for_model(model)\r\tencoding = tiktoken.Encoding(\n    name=\"gt_extended\",\n    pat_str=encoding._pat_str,\n    mergeable_ranks=encoding._mergeable_ranks,\n    special_tokens={\n        **encoding._special_tokens,\n        \"<|im_start|>\": 100264,\n        \"<|im_end|>\": 100265,\n        \"<|im_sep|>\": 100266,\n    }\n\t)\r\t\r\tencoded = encoding.encode(string, allowed_special='all')\r\tstart_range = 0\r\ttokens = []\r\tfor b in encoded:\r\t\tdecoded = str(encoding.decode_single_token_bytes(b), encoding='utf-8')\r\t\tend_range = start_range + len(decoded)\r\t\ttokens.append(Token(decoded, b, start_range+1, end_range))\r\t\tstart_range = end_range\r\treturn TokenizerResult(tokens)"
			},
			{
				"__type" : "pharoSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "veit.heller@feenk.com"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-13T16:14:40.584206+02:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "veit.heller@feenk.com"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-13T18:30:46.901079+02:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "Q/JS2yfXDQCqMIACBs9aqQ=="
				},
				"code" : "GtLlmTokenizer new\r\ttokenize: '<|im_start|>system<|im_sep|>You are a helpful assistant<|im_end|><|im_start|>assistant<|im_sep|>Hello! How can I help you?<|im_end|>'\r\tusingModel: 'gpt-4'"
			},
			{
				"__type" : "pharoSnippet",
				"children" : {
					"__type" : "snippets",
					"items" : [ ]
				},
				"createEmail" : {
					"__type" : "email",
					"emailString" : "veit.heller@feenk.com"
				},
				"createTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-13T18:25:27.322525+02:00"
					}
				},
				"editEmail" : {
					"__type" : "email",
					"emailString" : "veit.heller@feenk.com"
				},
				"editTime" : {
					"__type" : "time",
					"time" : {
						"__type" : "dateAndTime",
						"dateAndTimeString" : "2024-06-13T18:26:35.479819+02:00"
					}
				},
				"uid" : {
					"__type" : "uid",
					"uidString" : "Qa4GrynXDQCAx6iDBs9aqQ=="
				},
				"code" : "GtLlmTokenizer new\r\ttokenizeMessages: {GtLlmSystemMessage new content: 'You are a helpful assistant'.\r\t\t\tGtLlmAssistantMessage new content: 'How can I help you?'.\r\t\t\tGtLlmUserMessage new content: 'Can you add two and two for me?'}\r\tusingModel: 'gpt-4'"
			}
		]
	},
	"createEmail" : {
		"__type" : "email",
		"emailString" : "veit.heller@feenk.com"
	},
	"createTime" : {
		"__type" : "time",
		"time" : {
			"__type" : "dateAndTime",
			"dateAndTimeString" : "2024-06-13T12:22:38.896962+02:00"
		}
	},
	"editEmail" : {
		"__type" : "email",
		"emailString" : "veit.heller@feenk.com"
	},
	"editTime" : {
		"__type" : "time",
		"time" : {
			"__type" : "dateAndTime",
			"dateAndTimeString" : "2024-06-13T12:22:38.896962+02:00"
		}
	},
	"pageType" : {
		"__type" : "unnamedPage",
		"defaultTitle" : "Playground"
	},
	"uid" : {
		"__type" : "uuid",
		"uuid" : "6ce3869d-24d7-0d00-837b-3e7806acd63e"
	}
}